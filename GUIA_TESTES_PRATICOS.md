# üß™ GUIA PR√ÅTICO - Testando as Corre√ß√µes\n\n## üöÄ IN√çCIO R√ÅPIDO\n\n### 1. Testar Localmente (5 minutos)\n\n```bash\n# Terminal 1: Iniciar servidor\nnpm run dev\n\n# Voc√™ ver√°:\n# ‚úÖ Servidor rodando na porta 3000\n# Acesse: http://localhost:3000\n```\n\n```bash\n# Terminal 2: Executar testes\nnode test-vercel-fix.js\n\n# Voc√™ ver√°:\n# üß™ INICIANDO TESTES DE VALIDA√á√ÉO\n# ‚úÖ Passou: 8/8\n# ‚ùå Falhou: 0/8\n# üéâ TODOS OS TESTES PASSARAM!\n```\n\n---\n\n## üì° TESTES MANUAIS COM CURL\n\n### Health Check\n```bash\ncurl http://localhost:3000/api/health\n\n# Resposta esperada:\n{\"status\":\"ok\",\"timestamp\":\"2024-01-15T10:30:00.000Z\"}\n```\n\n### Status Detalhado\n```bash\ncurl http://localhost:3000/api/status\n\n# Resposta esperada:\n{\n  \"status\": \"running\",\n  \"environment\": \"development\",\n  \"vercel\": false,\n  \"timestamp\": \"2024-01-15T10:30:00.000Z\"\n}\n```\n\n### Debug Environment\n```bash\ncurl http://localhost:3000/api/debug-env\n\n# Resposta esperada:\n{\n  \"status\": \"online\",\n  \"node_env\": \"development\",\n  \"vercel\": \"false\",\n  \"node_version\": \"v18.0.0\",\n  \"memory\": {...},\n  \"uptime\": 123.456\n}\n```\n\n### P√°gina /sobre\n```bash\ncurl http://localhost:3000/sobre\n\n# Resposta esperada:\n# HTML da p√°gina (status 200)\n```\n\n### P√°gina /contato\n```bash\ncurl http://localhost:3000/contato\n\n# Resposta esperada:\n# HTML da p√°gina (status 200)\n```\n\n### P√°gina /dicas\n```bash\ncurl http://localhost:3000/dicas\n\n# Resposta esperada:\n# HTML da p√°gina (status 200)\n```\n\n---\n\n## üåê TESTES EM PRODU√á√ÉO (Vercel)\n\n### Ap√≥s fazer deploy:\n\n```bash\n# Substituir seu-dominio.vercel.app pelo seu dom√≠nio real\n\n# Health Check\ncurl https://seu-dominio.vercel.app/api/health\n\n# Status\ncurl https://seu-dominio.vercel.app/api/status\n\n# P√°gina /sobre\ncurl https://seu-dominio.vercel.app/sobre\n\n# P√°gina /contato\ncurl https://seu-dominio.vercel.app/contato\n```\n\n---\n\n## üîç TESTES COM VERIFICA√á√ÉO DE STATUS\n\n### Verificar status HTTP\n```bash\n# Retorna apenas o status HTTP\ncurl -s -o /dev/null -w \"%{http_code}\" http://localhost:3000/api/health\n\n# Esperado: 200\n```\n\n### Verificar headers\n```bash\n# Mostra headers da resposta\ncurl -i http://localhost:3000/api/health\n\n# Esperado:\n# HTTP/1.1 200 OK\n# Content-Type: application/json\n```\n\n### Verificar tempo de resposta\n```bash\n# Mostra tempo de resposta\ncurl -w \"\\nTempo: %{time_total}s\\n\" http://localhost:3000/api/health\n\n# Esperado: < 100ms\n```\n\n---\n\n## üìä TESTES COM JQ (JSON Query)\n\n### Instalar jq (se n√£o tiver)\n```bash\n# macOS\nbrew install jq\n\n# Ubuntu/Debian\nsudo apt-get install jq\n\n# Windows (com Chocolatey)\nchoco install jq\n```\n\n### Testar com jq\n```bash\n# Verificar status\ncurl -s http://localhost:3000/api/status | jq '.status'\n# Esperado: \"running\"\n\n# Verificar ambiente\ncurl -s http://localhost:3000/api/status | jq '.environment'\n# Esperado: \"development\"\n\n# Verificar se √© Vercel\ncurl -s http://localhost:3000/api/status | jq '.vercel'\n# Esperado: false (em localhost)\n\n# Verificar timestamp\ncurl -s http://localhost:3000/api/status | jq '.timestamp'\n# Esperado: \"2024-01-15T10:30:00.000Z\"\n```\n\n---\n\n## üîÑ TESTES CONT√çNUOS\n\n### Monitorar health check a cada 10 segundos\n```bash\nwatch -n 10 'curl -s http://localhost:3000/api/health | jq'\n```\n\n### Monitorar em produ√ß√£o\n```bash\nwatch -n 60 'curl -s https://seu-dominio.vercel.app/api/health | jq'\n```\n\n### Script de monitoramento\n```bash\n#!/bin/bash\nwhile true; do\n    echo \"[$(date)] Testando health check...\"\n    curl -s http://localhost:3000/api/health | jq\n    sleep 10\ndone\n```\n\n---\n\n## üß¨ TESTES AUTOMATIZADOS\n\n### Executar suite de testes\n```bash\nnode test-vercel-fix.js\n```\n\n### Adicionar ao package.json\n```json\n{\n  \"scripts\": {\n    \"test:vercel\": \"node test-vercel-fix.js\",\n    \"test:health\": \"curl -s http://localhost:3000/api/health | jq\",\n    \"test:all\": \"npm run dev & sleep 2 && npm run test:vercel\"\n  }\n}\n```\n\n### Executar com npm\n```bash\nnpm run test:vercel\nnpm run test:health\nnpm run test:all\n```\n\n---\n\n## üö® TESTES DE ERRO\n\n### Testar rota inexistente\n```bash\ncurl http://localhost:3000/rota-inexistente\n\n# Esperado: 404 Not Found\n```\n\n### Testar m√©todo n√£o permitido\n```bash\ncurl -X DELETE http://localhost:3000/api/health\n\n# Esperado: 405 Method Not Allowed\n```\n\n### Testar timeout\n```bash\ncurl --max-time 1 http://localhost:3000/api/health\n\n# Esperado: Sucesso (< 1s)\n```\n\n---\n\n## üìà TESTES DE CARGA\n\n### Instalar Apache Bench\n```bash\n# macOS\nbrew install httpd\n\n# Ubuntu/Debian\nsudo apt-get install apache2-utils\n\n# Windows\n# Baixar de: https://httpd.apache.org/download.cgi\n```\n\n### Teste de carga simples\n```bash\n# 100 requisi√ß√µes, 10 simult√¢neas\nab -n 100 -c 10 http://localhost:3000/api/health\n\n# Esperado:\n# Requests per second: > 100\n# Failed requests: 0\n```\n\n### Teste de carga em produ√ß√£o\n```bash\nab -n 100 -c 10 https://seu-dominio.vercel.app/api/health\n```\n\n---\n\n## üîê TESTES DE SEGURAN√áA\n\n### Verificar headers de seguran√ßa\n```bash\ncurl -i http://localhost:3000/api/health | grep -i \"x-\"\n\n# Esperado: Headers de seguran√ßa presentes\n```\n\n### Verificar CORS\n```bash\ncurl -H \"Origin: http://example.com\" \\\n     -H \"Access-Control-Request-Method: GET\" \\\n     -H \"Access-Control-Request-Headers: Content-Type\" \\\n     -X OPTIONS http://localhost:3000/api/health\n```\n\n### Verificar HTTPS em produ√ß√£o\n```bash\ncurl -I https://seu-dominio.vercel.app/api/health\n\n# Esperado: HTTP/2 200 (com HTTPS)\n```\n\n---\n\n## üìù CHECKLIST DE TESTES\n\n### Antes de fazer deploy:\n- [ ] `npm install` executado\n- [ ] `npm run dev` funciona\n- [ ] `node test-vercel-fix.js` passa\n- [ ] `curl http://localhost:3000/api/health` retorna 200\n- [ ] `curl http://localhost:3000/sobre` retorna 200\n- [ ] Sem erros no console\n\n### Ap√≥s fazer deploy:\n- [ ] `curl https://seu-dominio.vercel.app/api/health` retorna 200\n- [ ] `curl https://seu-dominio.vercel.app/sobre` retorna 200\n- [ ] `vercel logs --prod` sem erros cr√≠ticos\n- [ ] P√°gina carrega no navegador\n- [ ] Funcionalidades principais funcionam\n\n---\n\n## üéØ TESTES ESPEC√çFICOS POR ROTA\n\n### Testar /sobre\n```bash\ncurl -s http://localhost:3000/sobre | grep -i \"sobre\" | head -1\n# Esperado: Encontra conte√∫do da p√°gina\n```\n\n### Testar /contato\n```bash\ncurl -s http://localhost:3000/contato | grep -i \"contato\" | head -1\n# Esperado: Encontra conte√∫do da p√°gina\n```\n\n### Testar /dicas\n```bash\ncurl -s http://localhost:3000/dicas | grep -i \"dicas\" | head -1\n# Esperado: Encontra conte√∫do da p√°gina\n```\n\n### Testar /privacidade\n```bash\ncurl -s http://localhost:3000/privacidade | grep -i \"privacidade\" | head -1\n# Esperado: Encontra conte√∫do da p√°gina\n```\n\n### Testar /termos\n```bash\ncurl -s http://localhost:3000/termos | grep -i \"termos\" | head -1\n# Esperado: Encontra conte√∫do da p√°gina\n```\n\n---\n\n## üêõ DEBUGGING\n\n### Ver logs do servidor\n```bash\n# Terminal com npm run dev\n# Procurar por:\n# ‚úÖ Rota /sobre carregada com sucesso\n# ‚úÖ Rota /contato carregada com sucesso\n# ‚úÖ Rota /dicas carregada com sucesso\n```\n\n### Ver logs em produ√ß√£o\n```bash\nvercel logs --prod --follow\n\n# Procurar por:\n# GET /sobre 200\n# GET /api/health 200\n```\n\n### Ativar debug mode\n```bash\nDEBUG=* npm run dev\n```\n\n---\n\n## üìû SUPORTE\n\nSe os testes falharem:\n\n1. **Verificar logs**: `npm run dev` (veja o console)\n2. **Verificar depend√™ncias**: `npm install`\n3. **Limpar cache**: `rm -rf node_modules && npm install`\n4. **Reiniciar servidor**: Ctrl+C e `npm run dev` novamente\n\n---\n\n**√öltima atualiza√ß√£o:** 2024\n**Status:** ‚úÖ Pronto para usar\n